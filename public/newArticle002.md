---
title: 【完成編】モンハンAPI作ってみた
tags:
  - Go
  - RestAPI
  - 個人開発
  - アドベントカレンダー2023
  - モンハン20th
private: true
updated_at: '2023-12-04T22:47:10+09:00'
id: 797ae0ed47674a8103db
organization_url_name: null
slide: false
ignorePublish: false
---

:::note info
本記事は、以下の記事の完成編の記事になります。
以下の記事からどう変わったかや進化した点を記載していきます。

以前の記事は[こちら](https://zenn.dev/o_ga/articles/53d9e7c2ba7466)

:::

# はじめに 🎉

この記事は、Qiita アドベントカレンダー 2023 1 日目の記事です。
1 日目いただきました！！！

ありがとうございます。

初めてのアドベントカレンダーのカテゴリということで緊張していますが、
ひたすらやったことを書いていきます！

# 自己紹介 👨‍💻

王立古生物書士隊 情報分隊技術部 所属 のオーガといいます！

(モンハン世界の研究員という設定)

真面目に書くと、

- Go が好き！
- エンジニア歴 4 年目
- サーバ好き！
- 障害対応や検証ほど楽しい業務はない！
- 最近、アーキテクチャも学ばないとだなと感じて色々学習している

# なぜ、つくったか？ 🤔

- クリーンアーキテクチャを使って、何かアウトプットしたい！
- クリーンアーキテクチャで何かするなら Go がいい！(使い慣れているので。)
- **poke API**はあるのにモンハン API は**ない**の！？
- REST API を 1 からなにかつくりたい！
- 来年は、**モンハン 20 周年**なのでないか作りたい！

# つくったもの ⭐️

## サービス URL

https://mh-api-v2-8aznfogc.an.gateway.dev

## リポジトリ URL

https://github.com/o-ga09/MH-API

# できること ✅

- データの取得のみ**誰でも使用可能**
- 追加、更新、削除は、認証が必要

| メソッド | エンドポイント    | 内容                                   |
| -------- | ----------------- | -------------------------------------- |
| GET      | /v1/monsters      | 全モンスター一覧を取得する             |
| GET      | /v1/monsters/{id} | モンスターの id を指定して取得する     |
| POST     | /v1/monsters      | モンスター情報追加する                 |
| POST     | /v1/monsters/json | モンスター情報を json から追加する     |
| PATCH    | /v1/monsters/{id} | モンスター情報を id を指定して更新する |
| DELETE   | /v1/monsters/{id} | モンスター情報を id を指定して削除する |

詳細は、下記の API Spec をご覧ください。

https://o-ga09.github.io/MH-API/spec.html

# アーキテクチャ　 ⚙️

![MH-API_アーキテクチャ図.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/1312905/ef3a8768-8844-c511-3a78-3b0b78d5da0a.png)

# 技術選定　 ⭐️

| スタック       | 名称                 |
| -------------- | -------------------- |
| 言語           | Go                   |
| フレームワーク | Gin                  |
| ミドルウェア   | MySQL、Auth0         |
| IaC            | terraform            |
| インフラ       | Cloud Run            |
| データベース   | PlanetScale          |
| ドキュメント   | Open API             |
| シナリオテスト | scenarigo            |
| ツール         | Git、GitHub、draw.io |

# 進化ポイント 💡

- インフラ管理を IaC で terraform に
- ログ管理には、Cloud Logging での検索性を考慮し、構造化ログを使用
  - Go 標準の log/slog を使用
- API ドキュメントは、Open API を使用し、GitHub pages でホスト
- 各種オープンソースとしてのドキュメントの整備
- Cloud Run には、直接アクセスさせず、Front として API Gateway を使用
- 認証は、Auth0 を使用

# まとめ ⭐️

## 学んだこと ✏️

- terraform の知見が得られたこと
- REST API を作る知見が得られたこと
- オープンソースとして開発する知見が得られたこと
- マイクロサービスを Cloud Run で開発する知見が得られてこと
- その他、Open API、Go のモダンな開発、アーキテクチャの知見が得られたこと

## これから 😍

- 武器データ API や生態情報 API の機能を追加したい
- 総合的なモンスターハンター API に育てたい
- たくさん使われて欲しい

# 宣伝 🎉

2 点、宣伝をさせてください。

まず、1 点目

モンハン 20th 記念のモンスター総選挙をカプコン様がやっています！
この機会にぜひ、投票しましょう！！！

ちなみに、私は、「ジンオウガ」に投票しました！！！

期間は、2023/11/21 〜 2023/12/20 です。

https://www.monsterhunter.com/20th/ja-jp/vote-monster/

つぎに、2 点目

本記事で紹介したモンハン API は、オープンソースで開発しており、
コントリビュートぜひ、お願いします。
